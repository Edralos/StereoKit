name: Verify Compile

on:
  workflow_dispatch:

jobs:
  build:
      
    runs-on: windows-latest

    steps:
    - uses: actions/checkout@v3

    - name: Get cache
      uses: actions/cache@v3
      with:
        key: DependencyCache
        path: |
          .xmake-cache
          .deps_cache

    - name: Build Win32
      run: ./Tools/Build-Native.ps1 -arch x64 -plat Win32

    - name: Build UWP
      run: ./Tools/Build-Native.ps1 -arch x64 -plat UWP
